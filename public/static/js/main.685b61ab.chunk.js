(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{24:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n(19),a=n.n(r),o=(n(24),n(3)),s=n(4),i=n(1);var u=function(e){e.user;var t=e.setUser,n=Object(c.useState)(""),r=Object(o.a)(n,2),a=r[0],s=r[1],u=Object(c.useState)(""),l=Object(o.a)(u,2),j=l[0],b=l[1],h=Object(c.useState)(""),d=Object(o.a)(h,2),O=d[0],f=d[1],p=Object(c.useState)(""),x=Object(o.a)(p,2),m=x[0],g=x[1],v=Object(c.useState)(""),S=Object(o.a)(v,2),C=S[0],y=S[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("h1",{children:" Log In "}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:a,password:j})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return console.log(e.error)}))}))},children:[Object(i.jsx)("input",{type:"text",name:"username",placeholder:"Username",autoComplete:"off",value:a,onChange:function(e){return s(e.target.value)}}),Object(i.jsx)("input",{type:"text",name:"password",placeholder:"Password",autoComplete:"off",value:j,onChange:function(e){return b(e.target.value)}}),Object(i.jsx)("button",{children:" Submit "})]}),Object(i.jsx)("h1",{children:" Or Create an Account "}),Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/api/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:O,password:m,password_confirmation:C})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return console.log(e.errors)}))}))},children:[Object(i.jsx)("input",{type:"text",name:"username",placeholder:"Username",autoComplete:"off",value:O,onChange:function(e){return f(e.target.value)}}),Object(i.jsx)("input",{type:"text",name:"password",placeholder:"Password",autoComplete:"off",value:m,onChange:function(e){return g(e.target.value)}}),Object(i.jsx)("input",{type:"text",name:"password_confirmation",placeholder:"Confirm Password",autoComplete:"off",value:C,onChange:function(e){return y(e.target.value)}}),Object(i.jsx)("button",{children:" Create Account "})]})]})};var l=function(){return Object(i.jsx)("h1",{children:" LINER NOTES "})},j=n(7);var b=function(){return Object(i.jsxs)("div",{className:"Nav",children:[Object(i.jsx)(j.b,{to:"/tracklist",children:"TRACKLIST"}),Object(i.jsx)(j.b,{to:"/notes",children:"NOTES"}),Object(i.jsx)(j.b,{to:"/albums",children:"ALBUMS"}),Object(i.jsx)(j.b,{to:"/profile",children:"PROFILE"})]})},h=n(6);var d=function(e){var t=e.song,n=e.setIsEditing,r=e.handleUpdateSong,a=Object(c.useState)(t.name),s=Object(o.a)(a,2),u=s[0],l=s[1],j=Object(c.useState)(t.album_id),b=Object(o.a)(j,2),h=b[0],d=b[1],O=Object(c.useState)(t.artist),f=Object(o.a)(O,2),p=f[0],x=f[1],m=Object(c.useState)(t.spotify_link),g=Object(o.a)(m,2),v=g[0],S=g[1],C=Object(c.useState)(t.is_writer),y=Object(o.a)(C,2),k=y[0],N=y[1],A=Object(c.useState)(t.is_performer),w=Object(o.a)(A,2),_=w[0],E=w[1],T=Object(c.useState)(t.is_producer),L=Object(o.a)(T,2),P=L[0],D=L[1],U=Object(c.useState)(t.is_engineer),I=Object(o.a)(U,2),J=I[0],R=I[1],F=Object(c.useState)([]),Y=Object(o.a)(F,2),W=Y[0],B=Y[1];return Object(c.useEffect)((function(){fetch("/api/albums").then((function(e){return e.json()})).then((function(e){return B(e)}))}),[]),Object(i.jsxs)("div",{children:[Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault();var c={name:u,album_id:h,artist:p,spotify_link:v,is_writer:k,is_performer:_,is_producer:P,is_engineer:J};fetch("/api/songs/".concat(t.id),{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(e){e.ok?(e.json().then((function(e){return r(e)})),n(!1)):e.json().then((function(e){return console.log(e.errors)}))}))},children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"text",name:"name",placeholder:"Song Name",value:u,onChange:function(e){return l(e.target.value)}}),Object(i.jsxs)("select",{className:"album-select",placeholder:"Choose Album",value:h||"",onChange:function(e){return d(e.target.value)},children:[Object(i.jsx)("option",{disabled:!0,value:"",children:"-Choose an Album-"}),W.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.title},e.id)}))]}),Object(i.jsx)("input",{type:"text",name:"artist",placeholder:"Artist",value:p,onChange:function(e){return x(e.target.value)}}),Object(i.jsx)("input",{type:"text",name:"spotify",placeholder:"Spotify Link",value:v,onChange:function(e){return S(e.target.value)}}),Object(i.jsx)("input",{type:"checkbox",name:"writer",value:k,onChange:function(e){return N(!k)},checked:!!k}),Object(i.jsx)("label",{children:" Writer "}),Object(i.jsx)("input",{type:"checkbox",name:"performer",value:_,onChange:function(e){return E(!_)},checked:!!_}),Object(i.jsx)("label",{children:" Performer "}),Object(i.jsx)("input",{type:"checkbox",name:"producer",value:P,onChange:function(e){return D(!P)},checked:!!P}),Object(i.jsx)("label",{children:" Producer "}),Object(i.jsx)("input",{type:"checkbox",name:"engineer",value:J,onChange:function(e){return R(!J)},checked:!!J}),Object(i.jsx)("label",{children:" Engineer "}),Object(i.jsx)("button",{children:" Save "})]})}),Object(i.jsx)("button",{onClick:function(){return n(!1)},children:" Exit "})]})};var O=function(e){var t=e.song,n=e.handleDeleteSong,r=e.handleUpdateSong,a=Object(c.useState)(!1),s=Object(o.a)(a,2),u=s[0],l=s[1];return Object(i.jsxs)("div",{className:"Song",children:[Object(i.jsxs)("h1",{children:['"',t.name,'"']}),Object(i.jsx)("h2",{children:t.artist}),t.album?Object(i.jsx)("h3",{children:Object(i.jsx)("em",{children:t.album.title})}):"",t.album?Object(i.jsx)("img",{src:t.album.artwork_url,alt:"Album Artwork",width:"75",height:"75"}):"",Object(i.jsx)("ul",{children:t.spotify_link}),t.is_writer?Object(i.jsx)("h4",{children:"Writer"}):"",t.is_performer?Object(i.jsx)("h4",{children:"Performer"}):"",t.is_producer?Object(i.jsx)("h4",{children:"Producer"}):"",t.is_engineer?Object(i.jsx)("h4",{children:"Engineer"}):"",u?Object(i.jsx)(d,{song:t,setIsEditing:l,handleUpdateSong:r}):Object(i.jsx)("button",{onClick:function(){return l(!0)},children:"Edit"}),Object(i.jsx)("button",{onClick:function(){fetch("/api/songs/".concat(t.id),{method:"DELETE"}),n(t.id)},children:Object(i.jsx)("div",{role:"img","aria-label":"delete",children:" \ud83d\uddd1 "})})]})};var f=function(e){var t=e.setShowAddSong,n=e.addNewSong,r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],u=a[1],l=Object(c.useState)(""),j=Object(o.a)(l,2),b=j[0],h=j[1],d=Object(c.useState)(""),O=Object(o.a)(d,2),f=O[0],p=O[1],x=Object(c.useState)(!1),m=Object(o.a)(x,2),g=m[0],v=m[1],S=Object(c.useState)(!1),C=Object(o.a)(S,2),y=C[0],k=C[1],N=Object(c.useState)(!1),A=Object(o.a)(N,2),w=A[0],_=A[1],E=Object(c.useState)(!1),T=Object(o.a)(E,2),L=T[0],P=T[1],D=Object(c.useState)([]),U=Object(o.a)(D,2),I=U[0],J=U[1],R=Object(c.useState)(""),F=Object(o.a)(R,2),Y=F[0],W=F[1];return Object(c.useEffect)((function(){fetch("/api/albums").then((function(e){return e.json()})).then((function(e){return J(e)}))}),[]),Object(i.jsxs)("div",{className:"Forms",children:[Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var c={name:s,artist:b,spotify_link:f,is_writer:g,is_performer:y,is_producer:w,is_engineer:L,album_id:Y};fetch("/api/songs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(c){c.ok?(c.json().then((function(e){return n(e)})),e.target.reset(),t(!1)):c.json().then((function(e){return console.log(e.errors)}))}))},children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"text",name:"name",placeholder:"Song Name",value:s,onChange:function(e){return u(e.target.value)},autoComplete:"off"}),Object(i.jsx)("input",{type:"text",name:"artist",placeholder:"Artist",value:b,onChange:function(e){return h(e.target.value)},autoComplete:"off"}),Object(i.jsx)("input",{type:"text",name:"spotify_url",placeholder:"Spotify Link",value:f,onChange:function(e){return p(e.target.value)},autoComplete:"off"})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h4",{children:" Involvement: "}),Object(i.jsx)("input",{type:"checkbox",name:"writer",value:g,onChange:function(e){return v(!g)}}),Object(i.jsx)("label",{children:" Writer "}),Object(i.jsx)("input",{type:"checkbox",name:"performer",value:y,onChange:function(e){return k(!y)}}),Object(i.jsx)("label",{children:" Performer "}),Object(i.jsx)("input",{type:"checkbox",name:"producer",value:w,onChange:function(e){return _(!w)}}),Object(i.jsx)("label",{children:" Producer "}),Object(i.jsx)("input",{type:"checkbox",name:"engineer",value:L,onChange:function(e){return P(!L)}}),Object(i.jsx)("label",{children:" Engineer "})]}),Object(i.jsxs)("label",{children:[Object(i.jsx)("h4",{children:" Album "}),Object(i.jsxs)("select",{className:"album-select",placeholder:"Choose Album",value:Y,onChange:function(e){return W(e.target.value)},children:[Object(i.jsx)("option",{disabled:!0,value:"",children:"-Choose an Album-"}),I.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.title},e.id)}))]})]}),Object(i.jsx)("label",{children:Object(i.jsx)("button",{children:" Add Song "})})]}),Object(i.jsx)("button",{onClick:function(){return t(!1)},children:" Return to Tracklist "})]})};var p=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(o.a)(a,2),u=s[0],l=s[1];function j(e){var t=n.filter((function(t){return t.id!==e}));r(t)}function b(e){var t=n.map((function(t){return t.id===e.id?e:t}));r(t)}return Object(c.useEffect)((function(){fetch("/api/songs").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),u?Object(i.jsx)(f,{setShowAddSong:l,addNewSong:function(e){r([e].concat(Object(h.a)(n)))}}):Object(i.jsxs)("div",{children:[Object(i.jsx)("button",{onClick:function(){l(!0)},children:" Add Track "}),n.map((function(e){return Object(i.jsx)(O,{song:e,handleDeleteSong:j,handleUpdateSong:b},e.id)}))]})};var x=function(e){var t=e.note,n=t.created_at.split("T")[0];return Object(i.jsxs)("div",{className:"Note",children:[Object(i.jsxs)("h3",{children:[" Note for ",t.song?'"'.concat(t.song.name,'"'):"(SONG DELETED)"," on ",n,": "]}),Object(i.jsx)("p",{children:t.text})]})};var m=function(e){var t=e.setShowAddNotes,n=e.addNewNote,r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],u=a[1],l=Object(c.useState)([]),j=Object(o.a)(l,2),b=j[0],h=j[1],d=Object(c.useState)(""),O=Object(o.a)(d,2),f=O[0],p=O[1];return Object(c.useEffect)((function(){fetch("/api/songs").then((function(e){return e.json()})).then((function(e){return h(e)}))}),[]),Object(i.jsxs)("div",{className:"Forms",children:[Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault();var c={text:s,song_id:f};fetch("/api/notes",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(c){c.ok?(c.json().then((function(e){return n(e)})),e.target.reset(),t(!1)):c.json().then((function(e){return console.log(e.errors)}))}))},children:Object(i.jsxs)("label",{children:[Object(i.jsxs)("select",{className:"song-select",placeholder:"Choose A Song",value:f,onChange:function(e){return p(e.target.value)},children:[Object(i.jsx)("option",{disabled:!0,value:"",children:" -Choose a Song- "}),b.map((function(e){return Object(i.jsx)("option",{value:e.id,children:e.name},e.id)}))]}),Object(i.jsx)("textarea",{name:"text",placeholder:"New Note",style:{width:"350px",height:"120px",resize:"none"},value:s,onChange:function(e){return u(e.target.value)}}),Object(i.jsx)("button",{children:" Add Note "})]})}),Object(i.jsx)("button",{onClick:function(){return t(!1)},children:" Return to Notes "})]})};var g=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),s=Object(o.a)(a,2),u=s[0],l=s[1];return Object(c.useEffect)((function(){fetch("/api/notes").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),u?Object(i.jsx)(m,{setShowAddNotes:l,addNewNote:function(e){r([e].concat(Object(h.a)(n)))}}):Object(i.jsxs)("div",{className:"Lists",children:[Object(i.jsx)("button",{onClick:function(){l(!0)},children:" Add Note "}),n.map((function(e){return Object(i.jsx)(x,{note:e},e.id)}))]})};var v=function(e){var t=e.album,n=e.handleDeleteAlbum;return Object(i.jsxs)("div",{className:"AlbumList",children:[Object(i.jsxs)("h1",{children:[Object(i.jsx)("em",{children:t.title})," ",t.release_date?"(".concat(t.release_date,")"):""]}),Object(i.jsx)("h2",{children:t.artist}),Object(i.jsx)("h4",{children:t.genre}),Object(i.jsx)("img",{src:t.artwork_url,alt:"Album Artwork",width:"400",height:"400"}),Object(i.jsx)("h3",{children:" Songs: "}),t.songs.map((function(e){return Object(i.jsx)("h4",{children:e.name},e.id)})),Object(i.jsx)("button",{onClick:function(){fetch("/api/albums/".concat(t.id),{method:"DELETE"}),n(t.id)},children:Object(i.jsx)("div",{role:"img","aria-label":"delete",children:" \ud83d\uddd1 "})})]})};var S=function(e){var t=e.setShowAddAlbum,n=e.addNewAlbum,r=Object(c.useState)(""),a=Object(o.a)(r,2),s=a[0],u=a[1],l=Object(c.useState)(""),j=Object(o.a)(l,2),b=j[0],h=j[1],d=Object(c.useState)(""),O=Object(o.a)(d,2),f=O[0],p=O[1],x=Object(c.useState)(""),m=Object(o.a)(x,2),g=m[0],v=m[1],S=Object(c.useState)(""),C=Object(o.a)(S,2),y=C[0],k=C[1],N=Object(c.useState)(""),A=Object(o.a)(N,2),w=A[0],_=A[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)("form",{onSubmit:function(e){e.preventDefault();var c={title:s,artwork_url:b,artist:f,spotify_link:g,release_date:y,genre:w};fetch("/api/albums",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(c)}).then((function(c){c.ok?(c.json().then((function(e){return n(e)})),e.target.reset(),t(!1)):c.json().then((function(e){return console.log(e.errors)}))}))},children:Object(i.jsxs)("label",{children:[Object(i.jsx)("input",{type:"text",value:s,placeholder:"Title",onChange:function(e){return u(e.target.value)},autoComplete:"off"}),Object(i.jsx)("input",{type:"text",value:f,placeholder:"Artist",onChange:function(e){return p(e.target.value)},autoComplete:"off"}),Object(i.jsx)("input",{type:"text",value:b,placeholder:"Artwork URL",onChange:function(e){return h(e.target.value)},autoComplete:"off"}),Object(i.jsx)("input",{type:"text",value:g,placeholder:"Spotify Link",onChange:function(e){return v(e.target.value)},autoComplete:"off"}),Object(i.jsx)("input",{type:"text",value:y,placeholder:"Release Date(YYYY)",onChange:function(e){return k(e.target.value)},autoComplete:"off"}),Object(i.jsx)("input",{type:"text",value:w,placeholder:"Genre",onChange:function(e){return _(e.target.value)},autoComplete:"off"}),Object(i.jsx)("button",{children:" Add Album "})]})}),Object(i.jsx)("button",{onClick:function(){return t(!1)},children:" Return to Albums "})]})};var C=function(){var e=Object(c.useState)([]),t=Object(o.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(null),s=Object(o.a)(a,2),u=s[0],l=s[1];function j(e){var t=n.filter((function(t){return t.id!==e}));r(t)}return Object(c.useEffect)((function(){fetch("/api/albums").then((function(e){return e.json()})).then((function(e){return r(e)}))}),[]),u?Object(i.jsx)(S,{setShowAddAlbum:l,addNewAlbum:function(e){r([e].concat(Object(h.a)(n)))}}):Object(i.jsxs)("div",{className:"Lists",children:[Object(i.jsx)("button",{onClick:function(){l(!0)},children:" Add Album "}),n.map((function(e){return Object(i.jsx)(v,{album:e,handleDeleteAlbum:j},e.id)}))]})};var y=function(e){var t=e.user,n=e.setUser;return Object(i.jsxs)("div",{className:"Profile",children:[Object(i.jsxs)("h1",{children:[" Welcome, ",t.username,"! "]}),Object(i.jsxs)("h4",{children:[" You have logged ",t.songs?t.songs.length:""," songs "]}),Object(i.jsx)("h4",{children:" and "}),Object(i.jsxs)("h4",{children:[" ",t.albums?t.albums.length:"0"," albums "]}),Object(i.jsx)("button",{onClick:function(){fetch("/api/logout",{method:"DELETE"}).then((function(e){e.ok&&n(null)}))},children:" Log Out "})]})};n(27);var k=function(){var e=Object(c.useState)(null),t=Object(o.a)(e,2),n=t[0],r=t[1];return Object(c.useEffect)((function(){fetch("/api/me").then((function(e){e.ok&&e.json().then((function(e){return r(e)}))}))}),[]),n?Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(l,{}),Object(i.jsx)(b,{}),Object(i.jsxs)(s.c,{children:[Object(i.jsx)(s.a,{exact:!0,path:"/tracklist",element:Object(i.jsx)(p,{})}),Object(i.jsx)(s.a,{exact:!0,path:"/notes",element:Object(i.jsx)(g,{})}),Object(i.jsx)(s.a,{exact:!0,path:"/albums",element:Object(i.jsx)(C,{})}),Object(i.jsx)(s.a,{exact:!0,path:"/profile",element:Object(i.jsx)(y,{user:n,setUser:r})})]})]}):Object(i.jsxs)("div",{className:"App",children:[Object(i.jsx)(l,{}),Object(i.jsx)(u,{user:n,setUser:r})]})},N=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,29)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};a.a.render(Object(i.jsx)(j.a,{children:Object(i.jsx)(k,{})}),document.getElementById("root")),N()}},[[28,1,2]]]);
//# sourceMappingURL=main.685b61ab.chunk.js.map